%&thesis
\documentclass[a4paper,11pt,BCOR=8mm,twoside,headsepline]{scrbook}
\author{Daniel Suess}
\title{Data problems in Quantum Physics}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Begin of dumped preamble
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \usepackage[T1]{fontenc}
\usepackage{ifpdf}
\ifpdf{}
  \usepackage[utf8]{inputenc}
\fi
\usepackage{ifluatex}
\ifluatex{}
  \usepackage[utf8]{luainputenc}
  \usepackage{shellesc}
\fi

\usepackage{graphicx,subcaption}
\usepackage[backend=biber,bibencoding=utf8]{biblatex}
\bibliography{references_ds}

\usepackage[color=red!50!white,textsize=small,textwidth=2.5cm]{todonotes}

% Externalize tikz pictures except for todonotes
\usepackage{tikz}%for the figures
\usetikzlibrary{external,calc,backgrounds}
\tikzexternalize[prefix=build/]
\tikzset{external/mode=graphics if exists}
% \tikzset{external/system call={lualatex \tikzexternalcheckshellescape -halt-on-error -interaction=batchmode -jobname "\image" "\texsource"}}

\usepackage{mptikz}
\tikzstyle{tensornode}=[draw, fill=yellow!40, rounded corners=0.1cm]
\tikzstyle{tensorleg}=[]
\tikzstyle{pointerline}=[thin,shorten <=3pt, color=gray]
\tikzstyle{pointernode}=[font=\sffamily, anchor=west, align=center, color=black]

\tensorstyle{{
    len_vertical_legs = 0.25,
    len_horizontal_legs = 0.25,
    tensor_height = 0.75,
    tensor_width = 0.75,
    tensor_style = 'tensornode',
    tensor_name = 'X',
    leg_style = 'tensorleg'
}}
\usepackage{luacode}
\begin{luacode*}
  function t(str, ...)
    local arg = {...}
    tex.print(string.format(str, unpack(arg)))
  end
\end{luacode*}


\makeatletter
\renewcommand{\todo}[2][]{\tikzexternaldisable\@todo[noline,#1]{#2}\tikzexternalenable}
\makeatother
\usepackage{enumitem}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[breaklinks=true]{hyperref}
%getting rid of hyperref's ugly boxes.
%From:http://tex.stackexchange.com/a/51349
\hypersetup{
  colorlinks   = true, %Colours links instead of ugly boxes
  urlcolor     = blue, %Colour for external hyperlinks
  linkcolor    = blue, %Colour of internal links
  citecolor   = red %Colour of citations
}
\usepackage[nameinlink,capitalize]{cleveref}

%% use \[ ... \] for displayed equations
\newcommand{\myequation}{\begin{equation}}
\newcommand{\myendequation}{\end{equation}}
\let\[\myequation{}
\let\]\myendequation{}

%% Only referenced equations are numbered
% \usepackage{autonum}

% if \makefull is defined (e.g. by commandline argument, include everything)
\ifdefined\makefull\else
  % \includeonly{chapters/error_region,chapters/error_region_appendix}
  \includeonly{chapters/tensors}
  % \includeonly{chapters/phaselift,chapters/phaselift_appendix}
\fi

\input{macros}
\input{notebook-macros}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\frontmatter
\maketitle
\tableofcontents
\newpage
\makeatletter
\providecommand\@dotsep{5}
\makeatother
\listoftodos\relax
\newpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\mainmatter
\include{chapters/introduction}
\include{chapters/error_region}
\include{chapters/phaselift}
\include{chapters/tensors}
\include{chapters/conclusion}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\appendix
\chapter{Appendices}
\include{chapters/error_region_appendix}
\include{chapters/phaselift_appendix}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\printbibliography[heading=bibintoc]

\end{document}
