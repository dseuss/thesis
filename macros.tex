 % -*- root: thesis.tex -*-
\usepackage{amsmath,amsbsy,amssymb,amsthm}
\newtheorem{theorem}{Theorem}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{problem}[theorem]{Problem}
\newtheorem{protocol}[theorem]{Protocol}

\usepackage{braket}
\usepackage{bbm}

\usepackage[vlined,linesnumbered,ruled,resetcount]{algorithm2e}
\usepackage{color}
\usetikzlibrary{calc,fadings,backgrounds,shapes.geometric,decorations.pathreplacing,positioning,fit,patterns,chains}

\usepackage[nameinlink,capitalize]{cleveref}
\crefname{algocf}{Alg.}{Algs.}
\Crefname{algocf}{Algorithm}{Algorithms}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                             Text Macros                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\quotes}[1]{{``#1''}}
\newcommand{\apprv}[1]{{\textsc{\MakeLowercase{#1}}}}
\newcommand{\inlinecode}[1]{{\texttt{#1}}}
\newcommand{\mpnum}{\textsc{mpnum}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                             Math Macros                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\Reals}{{\mathbb{R}}}
\newcommand{\Complex}{{\mathbb{C}}}
\newcommand{\Integers}{{\mathbb{Z}}}
\newcommand{\Naturals}{{\mathbb{N}}}
\newcommand{\Order}{{\mathcal{O}}}
\newcommand{\BitStrings}{\{0, 1\}^*}
\newcommand{\DTIME}{\mathbf{DTIME}}
\renewcommand{\P}{\mathbf{P}}
\newcommand{\NP}{\mathbf{NP}}
\newcommand{\Hermitian}{\mathbb{H}}
\newcommand{\Sphere}{\mathcal{S}}
\newcommand{\GHZ}{\mathrm{GHZ}}
\newcommand{\CNOT}{\mathrm{CNOT}}
\renewcommand{\AA}{\mathcal{A}}

\newcommand{\1}{\mathbbm{1}}
\newcommand{\blank}{\square}
\let\truesubset\subset{}
\renewcommand{\subset}{\subseteq}

\newcommand{\Prob}{\mathbb{P}}
\newcommand{\Exp}{\mathbb{E}}
\newcommand{\Pdf}{\Pi}
\newcommand{\CR}{\mathcal{C}}
\newcommand{\dd}{\mathrm{d}}
\newcommand{\Normal}{\mathcal{N}}
\newcommand{\Loss}{\mathcal{L}}
\newcommand{\Risk}{\mathcal{R}}
\newcommand{\States}{\mathcal{S}}
\newcommand{\Eps}{\mathcal{E}}
\newcommand{\HermTrace}{\mathbb{H}}
\newcommand{\Vol}{\mathcal{V}}
\newcommand{\Nhalf}{\tfrac{N}{2}}
\newcommand{\ii}{\mathrm{i}}
\newcommand{\ee}{\mathrm{e}}
\newcommand{\mineig}{\operatorname{mineig}}
\newcommand{\maxeig}{\operatorname{maxeig}}
\newcommand{\argmin}{\operatorname{argmin}}
\newcommand{\argmax}{\operatorname{argmax}}
\newcommand{\diag}{\mathrm{diag}}
\newcommand{\mrc}{\mathrm{c}}
\newcommand{\tr}{\operatorname{tr}}
\newcommand{\rank}{\operatorname{rank}}
\newcommand{\laplace}{\mathop{}\!\mathcal{4}}

\newcommand{\abs}[1]{{\vert#1\vert}}
\newcommand{\Abs}[1]{{\left\vert#1\right\vert}}
\newcommand{\adj}[1]{{{#1}^\ast}}
\newcommand{\transpose}[1]{{{#1}^T}}
\newcommand{\cc}[1]{\overline{#1}}
\newcommand{\norm}[1]{{\Vert#1\Vert}}
\newcommand{\Norm}[1]{{\left\Vert#1\right\Vert}}
\newcommand{\opnorm}[1]{\norm{#1}_{2 \to 2}}
\newcommand{\Opnorm}[1]{\Norm{#1}_{2 \to 2}}
\newcommand{\ltwonorm}[1]{\norm{#1}_{\ell_2}}
\newcommand{\Ltwonorm}[1]{\Norm{#1}_{\ell_2}}
\newcommand{\fnorm}[1]{\norm{#1}_{2}}
\newcommand{\Fnorm}[1]{\Norm{#1}_{2}}
\newcommand{\estim}[1]{\hat{#1}}
\renewcommand{\vec}[1]{{\boldsymbol{#1}}}
\newcommand{\ind}[1]{^{(#1)}}


\renewcommand\bra[1]{{\langle{#1}|}}
\makeatletter
\renewcommand\ket[1]{%
  \@ifnextchar\bra{\k@t{#1}\!}{\k@t{#1}}%
}
\newcommand\k@t[1]{{|{#1}\rangle}}
% since redefinition below breaks footnotes and captions
\newcommand{\singleket}[1]{\k@t{#1}}
\makeatother
\newcommand{\ketbra}[1]{\ket{#1}\bra{#1}}
\newcommand{\Ketbra}[1]{\left| #1 \middle\rangle\middle\langle #1 \right|}
% \newcommand{\Braket}[1]{\left\langle #1 \right\rangle}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                             mptikz                                  %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{mptikz}
\tikzstyle{tensornode}=[draw, fill=yellow!40, rounded corners=0.1cm]
\tikzstyle{tensorleg}=[]
\tikzstyle{pointerline}=[thin,shorten <=3pt, color=gray]
\tikzstyle{pointernode}=[font=\sffamily, anchor=west, align=center, color=black]

\tensorstyle{{
    len_vertical_legs = 0.25,
    len_horizontal_legs = 0.25,
    tensor_height = 0.75,
    tensor_width = 0.75,
    tensor_style = 'tensornode',
    tensor_name = 'X',
    leg_style = 'tensorleg'
}}
\usepackage{luacode}
\begin{luacode*}
  function t(str, ...)
    local arg = {...}
    tex.print(string.format(str, unpack(arg)))
  end
\end{luacode*}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                             Hyphenation                             %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\hyphenation{CANDECOMP}
\hyphenation{PARAFAC}
